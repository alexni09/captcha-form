import{k as h,T as _,l as f,h as v,m as b,o as n,f as c,b as e,e as r,i as x,p as g,u as i,q as p,a as y}from"./app-c13e0b37.js";import{_ as w}from"./InputError-662a25f7.js";const k={class:"p-6"},C=e("h1",{class:"text-3xl"},"Captcha Form",-1),S=["onSubmit"],B={class:"mt-2 flex flex-row place-items-center py-3"},M=["src"],V={key:1,class:"animate-pulse w-56 h-9 border-2 border-slate-300 rounded-sm"},F=e("div",{class:"px-2 grid grid-cols-6 gap-2 h-full w-full items-center"},[e("div",{class:"h-2 bg-slate-200 rounded-md col-span-3"}),e("div",{class:"h-2 bg-slate-200 rounded-md col-span-1"}),e("div",{class:"h-2 bg-slate-200 rounded-md col-span-2"})],-1),K=[F],N=["onClick"],T=e("button",{class:"mt-3 py-1 px-4 w-fit border-2 border-gray-700 rounded-md cursor-pointer",type:"submit"},"Submit",-1),I={__name:"CaptchaForm",setup(q){const o=h(null),s=_({captcha:""}),l=async()=>{o.value=null,s.captcha="",await axios.get(route("captcha.reload")).then(a=>{o.value=a.data.url}).catch(a=>{console.log(a)})},u=()=>{s.post(route("captcha.verify"))};f(()=>{l()});const d=v(()=>s.errors.captcha!=null?"Captcha does not match. (Please reload if needed.)":void 0);return b(d,()=>{l()}),(a,t)=>(n(),c("div",k,[C,e("form",{class:"flex flex-col w-96",onSubmit:r(u,["prevent"])},[e("div",B,[o.value!==null?(n(),c("img",{key:0,src:o.value},null,8,M)):(n(),c("div",V,K)),e("button",{class:"ml-4 py-2 px-4 text-xl font-semibold w-fit border-2 border-gray-700 rounded-md cursor-pointer",onClick:r(l,["prevent"])},"â†»",8,N)]),x(e("input",{type:"text",onKeydown:[t[0]||(t[0]=p(r(()=>{},["prevent"]),["enter"])),t[1]||(t[1]=p(r(()=>{},["prevent"]),["space"]))],"onUpdate:modelValue":t[2]||(t[2]=m=>i(s).captcha=m)},null,544),[[g,i(s).captcha]]),y(w,{class:"mt-3",message:d.value},null,8,["message"]),T],40,S)]))}};export{I as default};
